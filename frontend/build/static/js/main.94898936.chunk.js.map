{"version":3,"sources":["components/Post/NewPost.js","api/testing.js","api/apiRequest.js","components/Post/PostCardItem.js","components/Post/PostCard.js","components/Home/Home.js","components/Signup/SignUp.js","components/Login/Login.js","components/Navbar/NavigationBar.js","components/Profile/Profile.js","components/Post/PostPage.js","components/Profile/ProfileSetup.js","App.js","reportWebVitals.js","index.js"],"names":["errorMessage","title","type","text","topic","message","label","length","localeCompare","substring","NewPost","_useState","useState","_useState2","Object","slicedToArray","show","setShow","_React$useState","React","_React$useState2","error","setError","_React$useState3","_React$useState4","checked","setChecked","_React$useState5","_React$useState6","setTitle","_React$useState7","_React$useState8","image","setImage","_React$useState9","_React$useState10","setText","_React$useState11","_React$useState12","setType","_React$useState13","_React$useState14","setTopic","react_default","a","createElement","Fragment","Button","variant","onClick","Modal","onHide","Header","closeButton","Title","Body","Row","react_select_esm","value","options","onChange","ev","__isNew__","placeholder","formatOptionLabel","_ref","Col","target","selected","disabled","hidden","name","style","width","maxlength","rows","cols","height","URL","createObjectURL","files","Image","src","Footer","rand","max","Math","floor","random","randWord","wordList","randString","spaces","period","str","i","randImg","images","createRandPost","id","topics","content","postType","post_id","post_topic","post_type","user_id","post_is_anonymous","post_title","post_content","post_time","start","Date","now","newHr","getHours","newMin","getMinutes","setHours","setMinutes","randDate","post_score","allPosts","getRandPosts","_callee","res","regenerator_default","wrap","_context","prev","next","push","abrupt","stop","_callee2","_context2","_callee3","_context3","console","log","_callee4","user","_context4","profile_name","user_profile_picture","user_bio","user_followers_count","user_following_count","allow_only_followed_users","first_name","last_name","user_email","_callee5","_context5","incrementScore","offset","_callee7","_context7","_callee8","_context8","PostCardTitle","props","textAlign","textDecoration","as","Link","to","pathname","concat","query","fontSize","margin","href","time","unit","secDiff","getSeconds","date","minDiff","hrDiff","monthDiff","getMonth","yearDiff","getFullYear","getRelativeTime","PostCardScore","score","setScore","updateScore","getScore","then","useEffect","xs","IconButton","aria-label","size","upvote","KeyboardArrowUp_default","downvote","KeyboardArrowDown_default","PostCardImg","lg","ms","Ratio","aspectRatio","thumbnail","PostCardItem","ListGroup","Item","className","anon","PostCard","list","setList","postcards","Array","from","postList","map","post","Post_PostCardItem","key","padding","Home","posts","setPosts","getPosts","getAllPosts","catch","err","Container","Post_NewPost","Post_PostCard","SignUp","_this","classCallCheck","this","_super","call","state","fields","errors","windows","valid","errormsg","users","JSON","parse","localStorage","getItem","emails","formIsValid","lastAtInd","lastIndexOf","lastDotInd","indexOf","test","setState","errorStr","alert","e","preventDefault","handleValidation","window","location","field","Card","onSubmit","hitSubmit","bind","refs","handleChange","Component","Login","NavigationBar","handleClose","Navbar","bg","sticky","Brand","Nav","Paper","component","sx","display","alignItems","InputBase","ml","flex","inputProps","p","Search_default","NavDropdown","align","Divider","esm_Button","Profile","_useState3","_useState4","_useState5","_useState6","setUser","getNewPosts","getNewUser","getUser","maxWidth","borderBottom","justifyContent","borderRadius","event","objectSpread2","defineProperty","bio","alt","Content","PostPage","nullPost","post_anon","post_date","toString","setPost","useParams","getPost","fluid","handleSubmit","ProfileSetup","LayoutsWithNavbar","Navbar_NavigationBar","react_router","App","react_router_dom","path","element","Home_Home","Profile_Profile","Post_PostPage","Login_Login","SignUp_SignUp","ProfileSetup_ProfileSetup","reportWebVitals","onPerfEntry","Function","__webpack_require__","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.94898936.chunk.js","sourcesContent":["import { useState } from \"react\";\r\nimport React from 'react';\r\nimport Select from 'react-select';\r\nimport Creatable from 'react-select/creatable';\r\nimport { Modal, Col, Row, Image } from \"react-bootstrap\";\r\nimport { Button } from '@mui/material';\r\n\r\nfunction errorMessage(title, type, text, topic) {\r\n    let message = \"\";\r\n    if (topic === null || topic.label === null) {\r\n        message = message + \"Please choose topic.\\n\";\r\n    } else if (topic.label.length < 1) {\r\n        message = message + \"Please choose topic.\\n\";\r\n    }\r\n    if (type.localeCompare(\"Image\") !== 0 && type.localeCompare(\"Text\") !== 0) {\r\n        message = message + \"Please choose a post type.\\n\";\r\n    }\r\n    if (title.length === 0) {\r\n        message = message + \"Please insert title.\\n\";\r\n    }\r\n    if (type.localeCompare(\"Text\") === 0 && text.length === 0) {\r\n        message = message + \"Please insert text.\\n\";\r\n    }\r\n    if (type.localeCompare(\"Image\") === 0 && text.length === 0) {\r\n        message = message + \"Please insert image.\\n\";\r\n    } else if (type.localeCompare(\"Image\") === 0 && text.length < 5) {\r\n        message = message + \"Filetype not supported.\\n\";\r\n    } else if (type.localeCompare(\"Image\") === 0\r\n    && text.substring(text.length - 4, text.length).localeCompare(\".png\") !== 0\r\n    && text.substring(text.length - 4, text.length).localeCompare(\".jpg\") !== 0\r\n    && text.substring(text.length - 5, text.length).localeCompare(\".jpeg\") !== 0) {\r\n        message = message + \"Filetype not supported.\\n\";\r\n    }\r\n    return message;\r\n}\r\n\r\nfunction NewPost() {\r\n\r\n    const [show, setShow] = useState(false);\r\n\r\n    const [error, setError] = React.useState(\"\");\r\n\r\n    const handleSubmit = () =>{\r\n        if (errorMessage(title, type, text, topic).length === 0) {\r\n            setShow(false);\r\n            setTitle(\"\");\r\n            setImage(null);\r\n            setText(\"\");\r\n            setType(\"\");\r\n            setError(\"\");\r\n            setTopic(\"\");\r\n            setChecked(false);\r\n        } else {\r\n            setError(errorMessage(title, type, text, topic));\r\n        }\r\n    }\r\n  \r\n    const handleClose = () => {\r\n        setShow(false);\r\n        setTitle(\"\");\r\n        setImage(null);\r\n        setText(\"\");\r\n        setType(\"\");\r\n        setError(\"\");\r\n        setTopic(\"\");\r\n        setChecked(false);\r\n    }\r\n    const handleShow = () => {\r\n        setShow(true);\r\n    };\r\n\r\n    const [checked, setChecked] = React.useState(false);\r\n    const handleAnonChange = () => {\r\n        setChecked(!checked);\r\n    };\r\n\r\n    const [title, setTitle] = React.useState(\"\");\r\n    const handleTitleChange = ev => {\r\n        setTitle(ev.target.value);\r\n    };\r\n\r\n    const [image, setImage] = React.useState(null);\r\n    const handleImageChange = ev => {\r\n        setImage(URL.createObjectURL(ev.target.files[0]));\r\n        setText(ev.target.value);\r\n    };\r\n\r\n    const [text, setText] = React.useState(\"\");\r\n    const handleTextChange = ev => {\r\n        setText(ev.target.value);\r\n    };\r\n\r\n    const [type, setType] = React.useState(\"\");\r\n    const handleTypeChange = ev => {\r\n        setType(ev.target.value);\r\n        setImage(\"\");\r\n        setText(\"\");\r\n    };\r\n\r\n    const [topic, setTopic] = React.useState(null);\r\n    const handleTopicChange = ev => {\r\n        setTopic(ev);\r\n        if (ev.__isNew__ === true) {\r\n            ev.value = 0;\r\n        }\r\n        //topics.sort(function(a, b){return b.value-a.value});\r\n    }\r\n\r\n    var topics = [\r\n        {label: 'birding', value: 999},\r\n        {label: 'cooking', value: 700},\r\n        {label: 'botany', value: 85},\r\n        {label: 'birds', value: 69},\r\n        {label: 'cs', value: 5},\r\n        {label: 'purdue', value: 1},\r\n    ]\r\n\r\n    const formatOptionLabel = ({ label, value }) => (\r\n        <Row>\r\n            <Col>{label}</Col>\r\n            <Col></Col>\r\n            <Col>{value}</Col>\r\n        </Row>\r\n    );\r\n\r\n    return (\r\n        <>\r\n            <Button variant=\"contained\" onClick={handleShow}>\r\n                Create new post\r\n            </Button>\r\n            <Modal show={show} onHide={handleClose}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>New Post</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Row>\r\n                    <Creatable\r\n                        value={topic}\r\n                        options={topics}\r\n                        onChange={handleTopicChange}\r\n                        placeholder=\"Choose Topic\"\r\n                        formatOptionLabel={formatOptionLabel}\r\n                    />\r\n                    <p></p>\r\n                </Row>\r\n                <Row>\r\n                <Col>\r\n                    <select onChange={handleTypeChange}>                        \r\n                        <option type=\"default\" selected disabled hidden>Choose post type</option>\r\n                        <option type=\"text\">Text</option>\r\n                        <option type=\"image\">Image</option>\r\n                    </select>\r\n                    {' '}\r\n                </Col>\r\n                \r\n                <Col>\r\n                </Col>\r\n\r\n                <Col>\r\n                    <label>\r\n                        Anonymous{' '}\r\n                        <input type=\"checkbox\" \r\n                        checked={checked}\r\n                        onChange={handleAnonChange}/>\r\n                    </label>\r\n                    {' '}\r\n                </Col>\r\n                </Row>\r\n\r\n                <p></p>\r\n                <textarea\r\n                    name=\"title\"\r\n                    placeholder=\" Title\"\r\n                    value={title || \"\"}\r\n                    onChange={handleTitleChange}\r\n                    style={{width: \"465px\"}}\r\n                    maxlength=\"100\"\r\n                    rows={1}\r\n                    cols={5}\r\n                />\r\n                <p></p>\r\n                { \r\n                    type.localeCompare(\"Image\") === 0 || type.localeCompare(\"Text\") === 0 ?\r\n                        type.localeCompare(\"Image\") !== 0 ?\r\n                            <textarea\r\n                                name=\"text\"\r\n                                placeholder=\" Insert text here\"\r\n                                value={text || \"\"}\r\n                                onChange={handleTextChange}                       \r\n                                style={{width: \"465px\", height: \"300px\"}}\r\n                                maxlength=\"500\"\r\n                                rows={5}\r\n                                cols={5}\r\n                            />\r\n                        :\r\n                            <form>\r\n                                <input\r\n                                    type=\"file\"\r\n                                    onChange={handleImageChange}\r\n                                />\r\n                                <p></p>\r\n                                { image.length > 0 ?\r\n                                            <Image\r\n                                                src={image} \r\n                                            />\r\n                                : \"\"}\r\n                                </form>\r\n                    :\r\n                        <p></p>\r\n                }\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                {/*<Button variant=\"secondary\" onClick={handleClose}>\r\n                Cancel\r\n                </Button> */}\r\n                <p>{error}</p>\r\n                <Button variant=\"primary\" onClick={handleSubmit}>\r\n                Post\r\n                </Button>\r\n            </Modal.Footer>\r\n            </Modal>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default NewPost;","function rand(max) {\r\n    return Math.floor(Math.random() * max);\r\n}\r\n\r\nfunction randWord() {\r\n    const wordList = [\"science\",\"speak\",\"remove\",\"truck\",\"happy\",\"main\",\"broke\",\"calm\",\"alive\",\"wrote\",\r\n    \"act\",\"fox\",\"back\",\"prize\",\"forward\",\"report\",\"over\",\"health\",\"serve\",\"nearer\",\r\n    \"especially\",\"apple\",\"indeed\",\"spent\",\"finally\",\"colony\",\"acres\",\"operation\",\"welcome\",\"walk\",\r\n    \"constantly\",\"social\",\"excellent\",\"shirt\",\"worried\",\"bear\",\"him\",\"model\",\"tip\",\"during\",\r\n    \"twice\",\"suit\",\"factory\",\"film\",\"hurt\",\"neck\",\"education\",\"listen\",\"noon\",\"paid\",\r\n    \"met\",\"production\",\"mainly\",\"system\",\"harbor\",\"vegetable\",\"name\",\"pilot\",\"rise\",\"period\",\r\n    \"forty\",\"ill\",\"how\",\"sudden\",\"plus\",\"typical\",\"pink\",\"across\",\"grandmother\",\"scene\",\r\n    \"mainly\",\"driver\",\"refused\",\"jungle\",\"end\",\"themselves\",\"south\",\"breathing\",\"engineer\",\"sick\",\r\n    \"ourselves\",\"badly\",\"claws\",\"purpose\",\"system\",\"rope\",\"second\",\"having\",\"interior\",\"city\",\r\n    \"signal\",\"here\",\"living\",\"shoulder\",\"according\",\"just\",\"daughter\",\"sail\",\"gray\",\"remarkable\",\r\n    \"valley\",\"choice\",\"cookies\",\"shape\",\"forty\",\"soap\",\"vessels\",\"teach\",\"underline\",\"appearance\",\r\n    \"soft\",\"walk\",\"interior\",\"shelf\",\"able\",\"behavior\",\"without\",\"deep\",\"sad\",\"political\",\r\n    \"saw\",\"diagram\",\"laugh\",\"shall\",\"salt\",\"led\",\"than\",\"flight\",\"knowledge\",\"diagram\",\r\n    \"advice\",\"find\",\"leg\",\"record\",\"position\",\"found\",\"cookies\",\"dance\",\"game\",\"strength\",\r\n    \"mail\",\"ranch\",\"pine\",\"once\",\"tobacco\",\"carefully\",\"value\",\"quick\",\"package\",\"natural\",\r\n    \"toy\",\"divide\",\"include\",\"simply\",\"powder\",\"bare\",\"affect\",\"five\",\"climate\",\"thank\",\r\n    \"naturally\",\"rising\",\"gone\",\"fire\",\"broad\",\"wore\",\"zero\",\"recent\",\"beginning\",\"expression\",\r\n    \"row\",\"wonder\",\"tell\",\"lie\",\"cover\",\"sentence\",\"choice\",\"book\",\"tax\",\"death\",\r\n    \"instead\",\"surrounded\",\"felt\",\"pile\",\"period\",\"suggest\",\"stock\",\"market\",\"only\",\"location\",\r\n    \"each\",\"worth\",\"die\",\"almost\",\"tightly\",\"everyone\",\"correctly\",\"telephone\",\"carefully\",\"dust\",\r\n    \"swimming\",\"reader\",\"atmosphere\",\"brown\",\"nails\",\"thy\",\"willing\",\"idea\",\"storm\",\"war\",\r\n    \"on\",\"say\",\"special\",\"fighting\",\"mistake\",\"prove\",\"between\",\"ready\",\"rose\",\"headed\",\r\n    \"glad\",\"north\",\"complete\",\"repeat\",\"palace\",\"hurried\",\"muscle\",\"swept\",\"house\",\"coming\",\r\n    \"entirely\",\"nervous\",\"partly\",\"such\",\"soldier\",\"coal\",\"band\",\"hungry\",\"solution\",\"hay\",\r\n    \"root\",\"chamber\",\"stay\",\"just\",\"table\",\"sides\",\"entire\",\"paid\",\"present\",\"society\",\r\n    \"produce\",\"smooth\",\"glass\",\"nearer\",\"account\",\"effort\",\"did\",\"fewer\",\"load\",\"function\",\r\n    \"dozen\",\"consist\",\"slipped\",\"map\",\"busy\",\"composition\",\"square\",\"youth\",\"minerals\",\"leaf\",\r\n    \"band\",\"machinery\",\"basket\",\"habit\",\"alone\",\"slept\",\"far\",\"exact\",\"wheat\",\"limited\",\r\n    \"tide\",\"influence\",\"safety\",\"remove\",\"order\",\"product\",\"natural\",\"noon\",\"peace\",\"lift\",\r\n    \"development\",\"dug\",\"remove\",\"condition\",\"shells\",\"further\",\"needs\",\"transportation\",\"even\",\"die\",\r\n    \"report\",\"paper\",\"work\",\"taken\",\"brave\",\"sick\",\"state\",\"sent\",\"tent\",\"forward\"];\r\n\r\n    return wordList[rand(wordList.length)];\r\n}\r\n\r\nfunction randString(max, spaces, period) {\r\n    var str = \"\"\r\n    for (var i = 0; i < max; i++) {\r\n        str += randWord();\r\n\r\n        if (spaces && i < max - 1) {\r\n            str += \" \";\r\n        }\r\n    }\r\n\r\n    if (period) {\r\n        str += \".\"\r\n    }\r\n\r\n    return str;\r\n}\r\n\r\nfunction randImg() {\r\n    const tartaglia = \"https://i1.sndcdn.com/artworks-veo6gasHptURSGgN-wpUwfg-t500x500.jpg\"\r\n    const dan = \"https://static.wikia.nocookie.net/valorant/images/1/1a/Epilogue_Dabbing_Dan_Spray.png\"\r\n    const qiqi = \"https://i.imgur.com/OQfRjgN.png\"\r\n    const froge = \"https://i.kym-cdn.com/entries/icons/mobile/000/020/016/wednesdaymydudeswide.jpg\"\r\n\r\n    const images = [tartaglia, dan, qiqi, froge];\r\n\r\n    return images[rand(images.length)];\r\n}\r\n\r\nfunction createRandPost(id) {\r\n    const topics = [\"Pokemon\", \"Plushies\", \"Boba\", \"Purdue\", \"pcmasterrace\", \"Bingsu\", \"Fruit\", \"AskPurcle\", \"Wholesome\", \"Eyebleach\"];\r\n    //types = 0 (text post) or 1 (image post)\r\n    var content = randString(30 + rand(20), true, true)\r\n    var postType = rand(2);\r\n\r\n    if (postType) {\r\n        content = randImg();\r\n    }\r\n\r\n    var randDate = () => {\r\n        var start = new Date(Date.now());\r\n        var newHr = start.getHours() - rand(5) | 0;\r\n        var newMin = start.getMinutes() - rand(30) | 0;\r\n\r\n        start.setHours(newHr);\r\n        start.setMinutes(newMin);\r\n        return start;\r\n    }\r\n\r\n    var newPost = {\r\n        post_id: id,\r\n        post_topic: topics[rand(topics.length)],\r\n        post_type: postType,\r\n        user_id: randString(2 + rand(2), false, false),\r\n        post_is_anonymous: rand(2),\r\n        post_title: randString(3 + rand(3), true, false),\r\n        post_content: content,\r\n        post_time: randDate(),\r\n        post_score: rand(900)\r\n    };\r\n\r\n    return newPost;\r\n}\r\n\r\nfunction createRandUser() {\r\n    /*\r\n    user = models.OneToOneField(User, null=True, on_delete=models.CASCADE)\r\n    profile_name = models.CharField(max_length=100, null=True)\r\n    user_profile_picture = models.ImageField(default='default.jpg', upload_to='profile_images')\r\n    user_bio = models.TextField(max_length=500)\r\n    user_followers_count = models.FloatField(default=0, null=False)\r\n    user_following_count = models.FloatField(default=0, null=False)\r\n    allow_only_followed_users = models.BooleanField(default=False)\r\n    first_name = models.CharField(max_length=50, null=True)\r\n    last_name = models.CharField(max_length=50, null=True)\r\n    user_email = models.CharField(max_length=200, null=False)\r\n    */\r\n\r\n\r\n    var user = {\r\n        profile_name: randString(3, false, false),\r\n        user_profile_picture: randImg(),\r\n        user_bio: randString(15 + rand(10), true, true),\r\n        user_followers_count: rand(500),\r\n        user_following_count: rand(500),\r\n        allow_only_followed_users: rand(2),\r\n        first_name: randWord(),\r\n        last_name: randWord(),\r\n        user_email: randString(3, false, true) + \"com\"\r\n    }\r\n\r\n    return user;\r\n}\r\n\r\nexport { createRandPost, createRandUser };","import { createRandPost, createRandUser } from \"./testing.js\";\r\n\r\nvar allPosts = [];\r\n\r\n/* GET functions */\r\n\r\nfunction getReq() {\r\n    console.log(\"oh\")\r\n}\r\n\r\nasync function getRandPosts() {\r\n    var res = [];\r\n\r\n    for (var i = 0; i < 100; i++) {\r\n        res.push(createRandPost(i));\r\n    }\r\n\r\n    allPosts = res;\r\n\r\n    return res;\r\n}\r\n\r\nasync function getPost(id) {\r\n    return allPosts[id];\r\n}\r\n\r\nasync function getAllPosts() {\r\n    console.log(allPosts);\r\n    return allPosts;\r\n}\r\n\r\nasync function getUser() {\r\n    var user = createRandUser(0);\r\n\r\n    return user;\r\n}\r\n\r\nasync function getScore(id) {\r\n    return allPosts[id].post_score;\r\n}\r\n\r\nfunction databaseLength() {\r\n    return allPosts.length;\r\n}\r\n\r\n/* POST functions */\r\nasync function makePost(post) {\r\n    allPosts.push(post);\r\n}\r\n\r\nfunction incrementScore(id, offset) {\r\n    allPosts[id].post_score += offset;\r\n}\r\n\r\nasync function upvote(id) {\r\n    incrementScore(id, 1);\r\n    //console.log(\"upvoted!\")\r\n}\r\n\r\nasync function downvote(id) {\r\n    incrementScore(id, -1);\r\n    console.log(\"downvoted!\")\r\n}\r\n\r\nexport { getRandPosts, getPost, getAllPosts, getUser, getScore, makePost, databaseLength, upvote, downvote };","import { ListGroup, Row, Col, Image, Ratio, Card } from 'react-bootstrap';\r\nimport React, { useEffect, useState } from 'react';\r\n\r\nimport KeyboardArrowUpIcon from '@mui/icons-material/KeyboardArrowUp';\r\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\r\n\r\nimport { getScore, upvote, downvote } from \"../../api/apiRequest.js\";\r\nimport { IconButton } from '@mui/material';\r\n\r\nimport {\r\n    BrowserRouter as Router,\r\n    Routes,\r\n    Route,\r\n    Link\r\n  } from \"react-router-dom\";\r\n\r\nfunction PostCardTitle(props) {\r\n    var getRelativeTime = () => {\r\n        var now = new Date(Date.now());\r\n\r\n        var time = \"\";\r\n        var unit = \"\";\r\n\r\n        var secDiff = now.getSeconds() - props.date.getSeconds();\r\n        if (secDiff > 0) {\r\n            time = secDiff;\r\n            unit = \"second\";\r\n        }\r\n\r\n        var minDiff = now.getMinutes() - props.date.getMinutes();\r\n        if (minDiff > 0) {\r\n            time = minDiff;\r\n            unit = \"minute\";\r\n        }\r\n        \r\n        var hrDiff = now.getHours() - props.date.getHours();\r\n        if (hrDiff > 0) {\r\n            time = hrDiff;\r\n            unit = \"hour\";\r\n        }\r\n\r\n        var monthDiff = now.getMonth() - props.date.getMonth();\r\n        if (monthDiff > 0) {\r\n            time = monthDiff;\r\n            unit = \"month\";\r\n        }\r\n\r\n        var yearDiff = now.getFullYear() - props.date.getFullYear();\r\n        if (yearDiff > 0) {\r\n            time = yearDiff;\r\n            unit = \"year\"\r\n        }\r\n\r\n        if (time === 0) {\r\n            return \"now\"\r\n        } else if (time !== 1) {\r\n            unit += \"s\"\r\n        }\r\n\r\n        return time + \" \" + unit + \" ago\";\r\n    }\r\n\r\n    return (\r\n        <Col style={{textAlign: \"left\", textDecoration: \"none\"}}  as={Link} to={{pathname: `/post/${props.id}`, query:{id: props.id}}}>\r\n            <h3 style={{fontSize:20}}> {props.title} </h3>\r\n            <p style={{margin: 0}}>by <a href={\"#\" + props.user }>{props.user}</a> in <a href=\"#\">{props.topic}</a> {getRelativeTime()}</p>\r\n        </Col>\r\n    );\r\n}\r\n\r\nfunction PostCardScore(props) {\r\n    var [score, setScore] = useState(0);\r\n\r\n    function updateScore(id) {\r\n        getScore(id)\r\n        .then((res) => {\r\n            setScore(res);\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        updateScore(props.id);\r\n    }, []);\r\n\r\n    return (\r\n        <Col xs={1}>\r\n            <IconButton \r\n                aria-label=\"upvote\"\r\n                size=\"small\"\r\n                onClick={ function() {\r\n                    upvote(props.id)\r\n                    .then(() => {\r\n                        updateScore(props.id);\r\n                    });\r\n                }}\r\n            >\r\n                < KeyboardArrowUpIcon />\r\n            </IconButton>\r\n\r\n            <p style={{margin: \"0px\"}}>{score}</p>\r\n\r\n            <IconButton \r\n                aria-label=\"downvote\"\r\n                size=\"small\"\r\n                onClick={ function() {\r\n                    downvote(props.id)\r\n                    .then(() => {\r\n                        updateScore(props.id);\r\n                    });\r\n                }}\r\n            >\r\n                < KeyboardArrowDownIcon />\r\n            </IconButton>\r\n        </Col>\r\n    );\r\n}\r\n\r\nfunction PostCardImg(props) {\r\n    //if props.type == true, then is image\r\n    if (props.type) {\r\n        return (\r\n            <Col lg={1} ms={2} xs={2}>\r\n                <Ratio aspectRatio=\"1x1\">\r\n                    <Image\r\n                        thumbnail\r\n                        src={props.content} \r\n                    />\r\n                </Ratio>\r\n            </Col>\r\n        )\r\n    } else {\r\n        return (null);\r\n    }\r\n}\r\n\r\nfunction PostCardItem(props) {\r\n    const imgSize = 70;\r\n\r\n    /*\r\n        key={post.post_id} \r\n        title={post.post_title}\r\n        content={post.post_content}\r\n        topic={post.post_topic}\r\n        type={post.post_type}\r\n        user={post.user_id}\r\n        anon={post.post_is_anonymous}\r\n        date={post.post_time}\r\n    */\r\n\r\n    return (\r\n        <ListGroup.Item>\r\n            <Row className=\"align-items-center\">\r\n                <PostCardScore \r\n                    score={props.score} \r\n                    id={props.id}\r\n                />\r\n                \r\n                <PostCardImg \r\n                    type={props.type} \r\n                    content={props.content}\r\n                />\r\n                \r\n                <PostCardTitle \r\n                    title={props.title} \r\n                    topic={props.topic} \r\n                    user={props.user} \r\n                    anon={props.anon}\r\n                    date={props.date}\r\n                    id={props.id}\r\n                />                  \r\n            </Row>\r\n        </ListGroup.Item>\r\n    );\r\n}\r\n\r\nexport default PostCardItem;","import { ListGroup } from 'react-bootstrap';\r\nimport React, { useEffect, useState } from 'react';\r\nimport PostCardItem from './PostCardItem';\r\n\r\nfunction PostCard(props) {\r\n    const [list, setList] = useState([]);\r\n\r\n    //console.log(props.postList)\r\n    \r\n    useEffect(() => {\r\n        var posts = Array.from(props.postList);\r\n\r\n        var postcards = posts.map((post) => (\r\n            <PostCardItem \r\n                key={post.post_id} \r\n                id={post.post_id}\r\n                title={post.post_title}\r\n                content={post.post_content}\r\n                topic={post.post_topic}\r\n                type={post.post_type}\r\n                user={post.user_id}\r\n                anon={post.post_is_anonymous}\r\n                date={post.post_time}\r\n                score={post.post_score}\r\n            />\r\n        ));\r\n\r\n        setList(postcards);\r\n    }, [props.postList])\r\n\r\n    if (props.postList.length > 0) {\r\n        return (\r\n            <ListGroup style={{padding:\"0px\"}}>\r\n                {list}\r\n            </ListGroup>\r\n        );\r\n    } else {\r\n        return (\r\n            <h2>No posts retrieved :(</h2>\r\n        )\r\n    }\r\n    \r\n    \r\n}\r\n\r\nexport default PostCard;","import { Container, Row } from 'react-bootstrap';\r\nimport React, { useState, useEffect }  from 'react';\r\nimport NewPost from \"../Post/NewPost.js\";\r\nimport PostCard from '../Post/PostCard';\r\n\r\nimport { Button } from '@mui/material';\r\n\r\nimport { getRandPosts, getAllPosts } from '../../api/apiRequest.js';\r\n\r\nfunction Home() {\r\n    const [posts, setPosts] = useState([]);\r\n\r\n    useEffect(() => {\r\n        getPosts();\r\n    }, []);\r\n\r\n    const getPosts = () => {\r\n        getAllPosts()\r\n        .then((res) => {\r\n            setPosts(res);\r\n            console.log(res);\r\n            console.log(\"fUCK\")\r\n        })\r\n        .catch(err => console.error(`Error: ${err}`));\r\n    }\r\n\r\n    const getNewPosts = () => {\r\n        getRandPosts()\r\n        .then((res) => {\r\n            setPosts(res);\r\n            console.log(res);\r\n        })\r\n        .catch(err => console.error(`Error: ${err}`));\r\n    }\r\n\r\n    return (\r\n        <Container style={{padding: \"0px 75px\"}}>\r\n            <Row style={{padding: \"20px 0px\"}}>\r\n                <NewPost getPosts={getPosts}/>\r\n            </Row>\r\n\r\n            <Row>\r\n                <PostCard postList={posts}/> \r\n            </Row>\r\n\r\n            <Button onClick={() => {\r\n                getNewPosts();\r\n            }}>\r\n                reload\r\n            </Button>\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default Home;","import React, { Component } from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport {\r\n    BrowserRouter as Router,\r\n    Routes,\r\n    Route,\r\n    Link\r\n  } from \"react-router-dom\";\r\n\r\nexport default class SignUp extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            fields: {},\r\n            errors: {},\r\n            windows: {\"error\":false, \"valid\":false},\r\n            errormsg: \"\",\r\n            users: JSON.parse(localStorage.getItem('users')) || [],\r\n            emails: JSON.parse(localStorage.getItem('emails')) || [],\r\n        };\r\n    }\r\n\r\n    handleValidation() {\r\n        let fields = this.state.fields;\r\n        let errors = {};\r\n        let formIsValid = true;\r\n\r\n        //email\r\n        if (!fields[\"email\"]) {\r\n            formIsValid = false;\r\n            errors[\"email\"] = \"Email cannot be empty\";\r\n        }\r\n\r\n        if (typeof fields[\"email\"] !== \"undefined\") {\r\n            let lastAtInd = fields[\"email\"].lastIndexOf(\"@\");\r\n            let lastDotInd = fields[\"email\"].lastIndexOf(\".\");\r\n\r\n            if (\r\n                !(\r\n                    lastAtInd < lastDotInd &&\r\n                    lastAtInd > 0 &&\r\n                    fields[\"email\"].indexOf(\"@@\") == -1 &&\r\n                    lastDotInd > 2 &&\r\n                    fields[\"email\"].length - lastDotInd > 2\r\n                )\r\n            ) {\r\n                formIsValid = false;\r\n                errors[\"email\"] = \"Email is not valid\";\r\n            } //TODO: check for uniqueness\r\n            //else if (this.state.emails.findIndex(fields[\"email\"]) !== -1) {\r\n                //formIsValid = false;\r\n                //errors[\"email\"] = \"Email is already in use\"\r\n            //}\r\n        }\r\n\r\n        //username\r\n        if (!fields[\"username\"]) {\r\n            formIsValid = false;\r\n            errors[\"username\"] = \"Username cannot be empty\";\r\n        }\r\n\r\n        if (typeof fields[\"username\"] !== \"undefined\") {\r\n            if (fields[\"username\"].length < 1) {\r\n                formIsValid = false;\r\n                errors[\"username\"] = \"Username is too short\";\r\n            } else if (fields[\"username\"].length > 20) {\r\n                formIsValid = false;\r\n                errors[\"username\"] = \"Username is too long\";\r\n            } else if (!/^([A-Za-z0-9\\-_.]+)$/.test(fields[\"username\"])) {\r\n                formIsValid = false;\r\n                errors[\"username\"] = \"Username contains invalid characters\";\r\n            } //TODO: check for uniqueness\r\n            //else if (this.state.users.findIndex(fields[\"username\"]) !== -1) {\r\n                //formIsValid = false;\r\n                //errors[\"username\"] = \"Username is already in use\";\r\n            //}\r\n        }\r\n\r\n        //password\r\n        if (!fields[\"password\"]) {\r\n            formIsValid = false;\r\n            errors[\"password\"] = \"Password cannot be empty\";\r\n        }\r\n\r\n        if (typeof fields[\"password\"] !== \"undefined\") {\r\n            if (fields[\"password\"].length < 8) {\r\n                formIsValid = false;\r\n                errors[\"password\"] = \"Password is too short\";\r\n            } else if (fields[\"password\"].length > 50) {\r\n                formIsValid = false;\r\n                errors[\"password\"] = \"Password is too long\";\r\n            } //TODO: handling special characters in passwords like escaped chars\r\n        }\r\n\r\n        if (!fields[\"confirm\"]) {\r\n            formIsValid = false;\r\n            errors[\"comfirm\"] = \"Confirm password cannot be empty\"\r\n        }\r\n\r\n        if (typeof fields[\"password\"] !== \"undefined\" && typeof fields[\"confirm\"] !== \"undefined\") {\r\n            if (fields[\"password\"] !== fields[\"confirm\"]) {\r\n                formIsValid = false;\r\n                errors[\"confirm\"] = \"Passwords do not match\";\r\n            }\r\n        }\r\n        \r\n        this.setState({ errors: errors }, \r\n            function() {\r\n                let errors = this.state.errors;\r\n                let errorStr = \"\";\r\n                for (let error in errors) {\r\n                    errorStr = errorStr + errors[error] + \"\\n\";\r\n                }\r\n\r\n                if (errorStr !== \"\") {\r\n                    alert(errorStr);\r\n                }\r\n            }\r\n        );\r\n        return formIsValid;\r\n    }\r\n\r\n    hitSubmit(e) {\r\n        let errors = this.state.errors;\r\n        e.preventDefault();\r\n\r\n        if (this.handleValidation()) {\r\n            alert(\"Form submitted\");\r\n            /*let emails = this.state.emails;\r\n            let users = this.state.users;\r\n            emails.push(this.state.fields[\"email\"]);\r\n            users.push(this.state.fields[\"username\"]);\r\n            this.setState({ emails: emails, users: users}, \r\n                function() {\r\n                    localStorage.setItem('emails', JSON.stringify(this.state.emails));\r\n                    localStorage.setItem('users', JSON.stringify(this.state.users));\r\n                }\r\n            );*/\r\n            \r\n            window.location.href = \"/profilesetup\";\r\n        }\r\n    }\r\n\r\n    handleChange(field, e) {\r\n        let fields = this.state.fields;\r\n        fields[field] = e.target.value;\r\n        this.setState({ fields });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"SignUp\">\r\n                {/*<Modal show={this.state.windows[\"error\"]} onHide={handleClose}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Error</Modal.Title>\r\n                    </Modal.Header>\r\n                    \r\n                    <Modal.Body> this.state.errormsg </Modal.Body>\r\n                    \r\n                    <Modal.Footer>\r\n                        <Button variant=\"primary\" onClick={handleClose}>\r\n                            Ok\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Modal>*/}\r\n                <Card className=\"SignUpCard\" style={{ width: '18rem'}}>\r\n                    <form onSubmit={this.hitSubmit.bind(this)}>\r\n                        <h3>Sign Up</h3>\r\n                        <div className=\"form-group\">\r\n                            <label>Email address</label>\r\n                            <input refs=\"email\" type=\"email\" className=\"form-control\" placeholder=\"Enter email\" onChange={this.handleChange.bind(this, \"email\")} value={this.state.fields[\"email\"]} />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label>Username</label>\r\n                            <input refs=\"username\" type=\"text\" className=\"form-control\" placeholder=\"Enter username\" onChange={this.handleChange.bind(this, \"username\")} value={this.state.fields[\"username\"]} />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label>Password</label>\r\n                            <input refs=\"password\" type=\"password\" className=\"form-control\" placeholder=\"Enter password\" onChange={this.handleChange.bind(this, \"password\")} value={this.state.fields[\"password\"]} />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label>Confirm Password</label>\r\n                            <input refs=\"confirm\" type=\"password\" className=\"form-control\" placeholder=\"Re-enter password\" onChange={this.handleChange.bind(this, \"confirm\")} value={this.state.fields[\"confirm\"]} />\r\n                        </div>\r\n                        <button className=\"btn btn-primary btn-block\">Sign Up</button>\r\n\r\n                        <div className=\"forgot-password\">\r\n                            <p>\r\n                                Already registered? <a href=\"#\">sign in</a>\r\n                            </p>\r\n                        </div>\r\n                    </form>\r\n                </Card>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, { Component } from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nexport default class Login extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"Login\">\r\n                <Card className=\"LoginCard\" style={{ width: '18rem'}}>\r\n                    <form>\r\n                        <h3>Login</h3>\r\n                        <div className=\"form-group\">\r\n                            <label>Email address</label>\r\n                            <input type=\"email\" className=\"form-control\" placeholder=\"Enter email\" />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label>Password</label>\r\n                            <input type=\"password\" className=\"form-control\" placeholder=\"Enter password\" />\r\n                        </div>\r\n                        <button type=\"submit\" className=\"btn btn-primary btn-block\">Login</button>\r\n\r\n                        <div className=\"forgot-password\">\r\n                            <p>\r\n                                <a href=\"#\">Forgot Password?</a>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div className=\"signup\">\r\n                            <p>\r\n                                No account? <a href=\"/signup\">Sign Up here</a>\r\n                            </p>\r\n                        </div>\r\n                        \r\n                    </form>\r\n                </Card>\r\n            </div>\r\n        );\r\n    }\r\n}","import { Nav } from \"react-bootstrap\";\r\nimport { Navbar } from \"react-bootstrap\";\r\nimport { NavDropdown } from \"react-bootstrap\";\r\nimport { Form, FormControl, Button } from \"react-bootstrap\";\r\nimport React from 'react';\r\n\r\nimport { useState } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\n\r\nimport { InputBase, IconButton, TextField } from \"@mui/material\";\r\nimport SearchIcon from '@mui/icons-material/Search';\r\n\r\nimport Paper from '@mui/material/Paper';\r\nimport Divider from '@mui/material/Divider';\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\nimport DirectionsIcon from '@mui/icons-material/Directions';\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Routes,\r\n  Route,\r\n  Link\r\n} from \"react-router-dom\";\r\n\r\nfunction NavigationBar() {\r\n\r\n  const [show, setShow] = useState(false);\r\n\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  return (\r\n    <Navbar bg=\"dark\" variant=\"dark\" sticky=\"top\" style={{padding: \"10px 25px\"}}>\r\n\r\n      <Navbar.Brand as={Link} to={\"/\"}>Purcle</Navbar.Brand>\r\n      <Nav className=\"me-auto\">\r\n        <Nav.Link as={Link} to={\"/following\"}>Following</Nav.Link>\r\n        <Nav.Link as={Link} to={\"/messages\"}>Messages</Nav.Link>\r\n      </Nav>\r\n\r\n\r\n      <Paper\r\n        component=\"form\"\r\n        size=\"small\"\r\n        sx={{  display: 'flex', alignItems: 'center'}}\r\n      >\r\n        <InputBase\r\n          sx={{ ml: 1, flex: 1 }}\r\n          placeholder=\"Search\"\r\n          inputProps={{ 'aria-label': 'search' }}\r\n          size=\"small\"\r\n        />\r\n        <IconButton type=\"submit\" sx={{ p: '10px' }} aria-label=\"search\">\r\n          <SearchIcon />\r\n        </IconButton>\r\n\r\n      </Paper>\r\n\r\n\r\n      <NavDropdown align=\"end\" title=\"Profile\" id=\"collasible-nav-dropdown\" >\r\n        <NavDropdown.Item as={Link} to={\"/profile\"}>Profile</NavDropdown.Item>\r\n        <NavDropdown.Item href=\"#action/3.1\">Followed Users</NavDropdown.Item>\r\n        <NavDropdown.Item href=\"#action/3.2\">Followed Topics</NavDropdown.Item>\r\n\r\n        <NavDropdown.Divider />\r\n        <>\r\n          <Button variant=\"danger\" onClick={handleShow}>\r\n            Logout\r\n          </Button>\r\n\r\n          <Modal show={show} onHide={handleClose}>\r\n            <Modal.Header closeButton>\r\n              <Modal.Title>Logout</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>Are you sure you want to logout?</Modal.Body>\r\n            <Modal.Footer>\r\n              <Button variant=\"secondary\" onClick={handleClose}>\r\n                No\r\n              </Button>\r\n              <Button variant=\"primary\" as={Link} to={\"/login\"}>\r\n                Yes\r\n              </Button>\r\n            </Modal.Footer>\r\n          </Modal>\r\n        </>\r\n      </NavDropdown>\r\n\r\n    </Navbar>\r\n\r\n  );\r\n}\r\n\r\nexport default NavigationBar;","import { Container, Row } from 'react-bootstrap';\r\nimport React, { Component, useState, useEffect } from 'react';\r\nimport PostCard from '../Post/PostCard';\r\nimport { Modal, Col, Image } from \"react-bootstrap\";\r\nimport { Button } from '@mui/material';\r\n\r\nimport { getRandPosts, getUser } from '../../api/apiRequest.js';\r\n\r\n\r\n\r\n\r\nfunction Profile(props) {\r\n\r\n    const [error, setError] = React.useState(\"\");\r\n\r\n    function errorMessage(bio) {\r\n        console.log(bio)\r\n        let message = \"\";\r\n        if (bio === null || bio.length == 0) {\r\n            message = message + \"Please enter a bio.\\n\";\r\n        }\r\n        return message;\r\n    }\r\n\r\n    const [posts, setPosts] = useState([]);\r\n\r\n    const [show, setShow] = useState(false);\r\n\r\n    const nullUser = {\r\n        profile_name: \"User not found\",\r\n        user_profile_picture: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAM1BMVEXk5ueutLeqsbTn6eqpr7PJzc/j5ebf4eLZ3N2wtrnBxsjN0NLGysy6v8HT1tissra8wMNxTKO9AAAFDklEQVR4nO2d3XqDIAxAlfivoO//tEOZWzvbVTEpic252W3PF0gAIcsyRVEURVEURVEURVEURVEURVEURVEURVEURVEURflgAFL/AirAqzXO9R7XNBVcy9TbuMHmxjN6lr92cNVVLKEurVfK/zCORVvW8iUBnC02dj+Wpu0z0Y6QlaN5phcwZqjkOkK5HZyPAjkIjSO4fIdfcOwFKkJlX4zPu7Ha1tIcwR3wWxyFhRG6g4Je0YpSPDJCV8a2Sv2zd1O1x/2WMDZCwljH+clRrHfWCLGK8REMiql//2si5+DKWKcWeAGcFMzzNrXC/0TUwQ2s6+LhlcwjTMlYsUIQzPOCb7YBiyHopyLXIEKPEkI/TgeuiidK/R9FniUDOjRDpvm0RhqjMyyXNjDhCfIMYl1gGjIMIuYsnGEYRMRZOMMunaLVwpWRW008v6fYKDIzxCwVAeNSO90BJW6emelYBRF/kHpYGVaoxTDAaxOFsfP9y8hpJ4xd7gOcij7JNGQ1EYFgkPJa1jQEiYZXRaRINKxSDUW9n+FT82lSKadkiru9/4XPqSLWOekGPoY05TAvLm9orm+YWuwHoBHkZKijNBJGmeb61eL6Ff/6q7bLr7yvv3vKGhpDRjvgjGaPz+gUg6YgcvpyAR2FIZ9U6nEEyZRTovmEU32KichpGn7C17XrfyH9gK/c0CMP05HZIM2uf9sEveizKveBy9/6Qt7o89ne33D525cfcIMW6ab+TMEukQbQbu+xu7X3A9bChmWaCeAkG17bpntwXgWxHaMzGPmUaR5dQZiKqRVeUZ3047fi3nAu28h4CHxCsZAgmEH8Y27jJAhm8c+5RQzRQNVGhVFSfxOYIjp/pP7RxzjevYXVGf4eLt+BJ1vCuLuLkrgABgCGXZ2wik5uty+oBvNirI6mkzhAf4Gsb58Hcm67Jzd+KwD10BYPLL3e0MjvKrgAULnOfveF/O4N2Xb9BZom3gJes3F9X5Zze8/6Yt09b4CrqsEjUv8oFBaR2rl+6CZr2xVrp24o/WitBKuGrrpl1+bFkmK2qXTON4VpbdfLa7o7y/WdLxG7lm2Lqh2clOwTegbvc/vj2U78CwhA87Bn8G5Nk3eOb0Nsr9flz3sG78UUtue4kpv1xvjg3TMay62BMlTlP+vrOMnJsRmt/ze0jsfkPPYdAH57hK+34PeOyc8XIXu5xT2HsUkdZz+adwg8HGFfQ3K5jtDvbUiO4Di9/ywHGrL88pDizZ++oTp+an+SMX/ndymUCwmHMdO7yuOx83pUx/eEMU0AvxWndwgidAqOZ8ypCwdEfvvEo6D9HwpA8wzvmOJEqAg9ySu8g4x0Hb9hSB/BANEKJ+LbPBU0lzbAJs4xt1AoshKkUGQmiH8/jJ0gdhTTLmSegHlPE0oOdXALnqDjKYh3px//fSgSWG8UqfrrIICzYYSJXRr9BSPbpNzw7gBjKjKOYI7ReIGqQRIap5+5MdjyvuDkExvGeXSlONWZAP3/AZBwJohU7QJRGU+cTVH18ELmRPNBmibW6MT/k1b0XhdkRBvyT6SB6EYv/GvhSmRNpGngRULsAlxMCGNXp7w3FfdEbTEEDdLI9TdIKRUzUesa3I461ER8cpNT7gMRhpKmYVS9ELOgCUQsa4SsulciKiLbY+AnHD8cpuhISsnxpamI84sbDq9qYJgf8wiiOBrC7Ml7M7ZECCqKoiiKoiiKoiiKoijv5AvJxlZRyNWWLwAAAABJRU5ErkJggg==\",\r\n        user_bio: \"\",\r\n        user_followers_count: 0,\r\n        user_following_count: 0,\r\n        allow_only_followed_users: 0,\r\n        first_name: \"\",\r\n        last_name: \"\",\r\n        user_email: \"\"\r\n    }\r\n\r\n    const [user, setUser] = useState(nullUser);\r\n\r\n    /*\r\n        profile_name: randString(3, false, false),\r\n        user_profile_picture: randImg(),\r\n        user_bio: randString(15 + rand(10), true, true),\r\n        user_followers_count: rand(500),\r\n        user_following_count: rand(500),\r\n        allow_only_followed_users: rand(2),\r\n        first_name: randWord(),\r\n        last_name: randWord(),\r\n        user_email: randString(3, false, true) + \"com\"\r\n    */\r\n\r\n    useEffect(() => {\r\n        getNewPosts();\r\n        getNewUser();\r\n    }, []);\r\n\r\n    const handleUpdateUser = (event) => {\r\n        console.log(event.target.name);\r\n        console.log(event.target.value);\r\n        setUser({\r\n            ...user,\r\n            [event.target.name]: event.target.value,\r\n        });\r\n    }\r\n\r\n    const handleSubmitUpdate = (event) => {\r\n        console.log(\"submit\");\r\n        let err = errorMessage(user.user_bio);\r\n        setError(err);\r\n        if (err == \"\") {\r\n            handleClose();\r\n        }\r\n    }\r\n\r\n    const getNewPosts = () => {\r\n        getRandPosts()\r\n            .then((res) => {\r\n                setPosts(res);\r\n            })\r\n            .catch(err => console.error(`Error: ${err}`));\r\n    }\r\n\r\n    const getNewUser = () => {\r\n        getUser()\r\n            .then((res) => {\r\n                setUser(res);\r\n            })\r\n            .catch(err => console.error(`Error: ${err}`));\r\n    }\r\n\r\n    const handleClose = () => {\r\n        setShow(false);\r\n    }\r\n    const handleShow = () => {\r\n        setShow(true);\r\n    };\r\n\r\n    // const [mypics,setPics] = useState([])\r\n    // const {state,dispatch} = useContext(UserContext)\r\n    // const [image,setImage] = useState(\"\")\r\n    // useEffect(()=>{\r\n    //    fetch('/mypost',{\r\n    //        headers:{\r\n    //            \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n    //        }\r\n    //    }).then(res=>res.json())\r\n    //    .then(result=>{\r\n    //        console.log(result)\r\n    //        setPics(result.mypost)\r\n    //    })\r\n    // },[])\r\n    // useEffect(()=>{\r\n    //    if(image){\r\n    //     const data = new FormData()\r\n    //     data.append(\"file\",image)\r\n    //     data.append(\"upload_preset\",\"insta-clone\")\r\n    //     data.append(\"cloud_name\",\"cnq\")\r\n    //     fetch(\"https://api.cloudinary.com/v1_1/cnq/image/upload\",{\r\n    //         method:\"post\",\r\n    //         body:data\r\n    //     })\r\n    //     .then(res=>res.json())\r\n    //     .then(data=>{\r\n\r\n\r\n    //        fetch('/updatepic',{\r\n    //            method:\"put\",\r\n    //            headers:{\r\n    //                \"Content-Type\":\"application/json\",\r\n    //                \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n    //            },\r\n    //            body:JSON.stringify({\r\n    //                pic:data.url\r\n    //            })\r\n    //        }).then(res=>res.json())\r\n    //        .then(result=>{\r\n    //            console.log(result)\r\n    //            localStorage.setItem(\"user\",JSON.stringify({...state,pic:result.pic}))\r\n    //            dispatch({type:\"UPDATEPIC\",payload:result.pic})\r\n    //            //window.location.reload()\r\n    //        })\r\n\r\n    //     })\r\n    //     .catch(err=>{\r\n    //         console.log(err)\r\n    //     })\r\n    //    }\r\n    // },[image])\r\n    // const updatePhoto = (file)=>{\r\n    //     setImage(file)\r\n    // }\r\n\r\n\r\n    return (\r\n        <div style={{ maxWidth: \"550px\", margin: \"0px auto\" }}>\r\n            <div style={{\r\n                margin: \"18px 0px\",\r\n                borderBottom: \"1px solid grey\"\r\n            }}>\r\n                <div style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"space-around\",\r\n\r\n                }}>\r\n                    <div>\r\n                        <img style={{ width: \"160px\", height: \"160px\", borderRadius: \"80px\" }}\r\n                            src={user.user_profile_picture}\r\n                        />\r\n\r\n                    </div>\r\n                    <div className=\"down\">\r\n                        <p></p>\r\n                        {/* <div style=\"padding-top:5em;\"></div> */}\r\n                        <h4>{user.profile_name}</h4>\r\n                        <h7>{user.user_bio}</h7>\r\n                        <div style={{ display: \"flex\", justifyContent: \"space-between\", width: \"108%\" }}>\r\n                            <h6>3 posts</h6>\r\n                            <h6>{user.user_followers_count} followers</h6>\r\n                            <h6>{user.user_following_count} following</h6>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"file-field input-field\" style={{ margin: \"0px\" }}>\r\n                    <div className=\"btn #64b5f6 blue darken-1\">\r\n                        <span onClick={handleShow}>Update Profile</span>\r\n\r\n                        <Modal show={show} onHide={handleClose}>\r\n                            <Modal.Header closeButton>\r\n                                <Modal.Title>Update Profile</Modal.Title>\r\n                            </Modal.Header>\r\n                            <Modal.Body>\r\n\r\n                                <form>\r\n                                    <textarea\r\n                                        name=\"user_bio\"\r\n                                        placeholder=\"New Bio\"\r\n                                        style={{ width: \"465px\" }}\r\n                                        onChange={handleUpdateUser}\r\n                                    />\r\n                                    <label>Upload New Profile Picture</label>\r\n                                    <input\r\n                                        type=\"file\"\r\n                                    />\r\n                                </form>\r\n\r\n                            </Modal.Body>\r\n                            <Modal.Footer>\r\n                                <p>{error}</p>\r\n                                <Button variant=\"primary\" onClick={handleSubmitUpdate}>\r\n                                    Update\r\n                                </Button>\r\n                            </Modal.Footer>\r\n                        </Modal>\r\n\r\n                        {/* <input type=\"file\" onChange={(e)=>updatePhoto(e.target.files[0])} /> */}\r\n                    </div>\r\n                    {/* <div className=\"file-path-wrapper\">\r\n                <input className=\"file-path validate\" type=\"text\" />\r\n            </div> */}\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <p>Post History</p>\r\n                {/* <input type=\"file\" onChange={(e)=>updatePhoto(e.target.files[0])} /> */}\r\n            </div>\r\n            <Container style={{ padding: \"25px 50px 75px\" }}>\r\n                <Row>\r\n                    <PostCard postList={posts} />\r\n                </Row>\r\n            </Container>\r\n            <div className=\"gallery\">\r\n                {/* {\r\n                   mypics.map(item=>{\r\n                       return(\r\n                        <img key={item._id} className=\"item\" src={item.photo} alt={item.title}/>  \r\n                       )\r\n                   })\r\n               } */}\r\n                <img className=\"item\" src=\"https://static01.nyt.com/images/2019/05/31/multimedia/parenting-poop/22110ba6851840dd9e7d6012a4c6ed32-superJumbo.jpg\" alt=\"post picture\" />\r\n                <img className=\"item\" src=\"https://static01.nyt.com/images/2019/05/31/multimedia/parenting-poop/22110ba6851840dd9e7d6012a4c6ed32-superJumbo.jpg\" alt=\"post picture\" />\r\n                <img className=\"item\" src=\"https://static01.nyt.com/images/2019/05/31/multimedia/parenting-poop/22110ba6851840dd9e7d6012a4c6ed32-superJumbo.jpg\" alt=\"post picture\" />\r\n                {/* <img className=\"item\" src=\"https://static01.nyt.com/images/2019/05/31/multimedia/parenting-poop/22110ba6851840dd9e7d6012a4c6ed32-superJumbo.jpg\" alt=\"post picture\"/>  \r\n                <img className=\"item\" src=\"https://static01.nyt.com/images/2019/05/31/multimedia/parenting-poop/22110ba6851840dd9e7d6012a4c6ed32-superJumbo.jpg\" alt=\"post picture\"/>  \r\n                <img className=\"item\" src=\"https://static01.nyt.com/images/2019/05/31/multimedia/parenting-poop/22110ba6851840dd9e7d6012a4c6ed32-superJumbo.jpg\" alt=\"post picture\"/>  \r\n                <img className=\"item\" src=\"https://static01.nyt.com/images/2019/05/31/multimedia/parenting-poop/22110ba6851840dd9e7d6012a4c6ed32-superJumbo.jpg\" alt=\"post picture\"/>   */}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Profile","import React, { useEffect, useState } from 'react';\r\nimport { Container, Col, Row, Image } from 'react-bootstrap';\r\n\r\nimport { useParams } from 'react-router-dom';\r\n\r\nimport { getPost } from '../../api/apiRequest';\r\n\r\nfunction Content(props) {\r\n    //if props.type == true then is image \r\n    if (props.type) {\r\n        return (\r\n            <Container>\r\n                <Image\r\n                    src={props.content}\r\n                />\r\n            </Container>\r\n            \r\n        );\r\n    } else {\r\n        return (\r\n            <Container>\r\n                <p>{props.content}</p>\r\n            </Container>\r\n        )\r\n    }\r\n}\r\n\r\nfunction PostPage(props) {\r\n    /*\r\n        key={post.post_id} \r\n        title={post.post_title}\r\n        content={post.post_content}\r\n        topic={post.post_topic}\r\n        type={post.post_type}\r\n        user={post.user_id}\r\n        anon={post.post_is_anonymous}\r\n        date={post.post_time}\r\n        score={post.post_score}\r\n    */\r\n\r\n    const nullPost = {\r\n        post_topic: \"\",\r\n        post_type: false,\r\n        user_id: \"\",\r\n        post_anon: false,\r\n        post_title: \"Post not found\",\r\n        post_content: \"\",\r\n        post_date: (new Date()).toString(),\r\n        post_score: 0\r\n    }\r\n\r\n    const [post, setPost] = useState(nullPost);\r\n    const { id } = useParams();\r\n\r\n    console.log(id);\r\n    \r\n    useEffect(() => {\r\n\r\n        console.log(props)\r\n        \r\n        getPost(id)\r\n        .then((res) => {\r\n            setPost(res);\r\n            console.log(res);\r\n        })\r\n        .catch(err => console.error(`Error: ${err}`));\r\n        \r\n        //setPost(newPost);\r\n    }, [post]);\r\n\r\n    const time = \"fuck\" //post.post_date.toString();\r\n    \r\n    return (\r\n        <Container fluid style={{textAlign: \"left\"}}>\r\n                <Row>\r\n                    <h1>{post.post_title}</h1>\r\n                </Row>\r\n\r\n                <Row>\r\n                    <p>posted by {post.user_id} in {post.post_topic}</p>\r\n                </Row>\r\n\r\n            <Content style={{textAlign: \"center\"}} type={post.post_type} content={post.post_content}/>\r\n        </Container>\r\n    );\r\n    \r\n}\r\n\r\nexport default PostPage;","import React, { Component } from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\n\r\n\r\nimport {\r\n    BrowserRouter as Router,\r\n    Routes,\r\n    Route,\r\n    Link\r\n  } from \"react-router-dom\";\r\n\r\n\r\nconst handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    window.location.href = \"/\";\r\n}\r\n\r\n\r\nexport default class ProfileSetup extends Component {\r\n\r\n    \r\n    render() {\r\n        return (\r\n            <div className=\"ProfileSetup\">\r\n                <Card className=\"LoginCard\" style={{ width: '18rem' }}>\r\n                    <form onSubmit={handleSubmit}>\r\n                        <h3>Create Profile</h3>\r\n                        <div className=\"form-group\">\r\n                            <label>Bio</label>\r\n                            <textarea className=\"form-control\" placeholder=\"Tell us about yourself!\"/>\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label>Upload a Profile Picture</label>\r\n                            <input type=\"file\"/>\r\n                        </div>\r\n\r\n                        <button className=\"btn btn-primary btn-block\">Create</button>\r\n                    </form>\r\n                </Card>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import './App.css';\r\n\r\nimport React from 'react';\r\nimport Home from \"../src/components/Home/Home.js\";\r\nimport SignUp from './components/Signup/SignUp';\r\nimport Login from './components/Login/Login';\r\nimport NavigationBar from './components/Navbar/NavigationBar';\r\nimport Profile from './components/Profile/Profile.js'\r\nimport PostPage from './components/Post/PostPage';\r\nimport ProfileSetup from './components/Profile/ProfileSetup';\r\n\r\nimport {\r\n  BrowserRouter as Router,\r\n  Routes,\r\n  Route,\r\n  Link,\r\n  Outlet\r\n} from \"react-router-dom\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n        \r\n        <Routes>\r\n          {/* Put pages with navbar here */}\r\n          <Route path=\"/\" element={<LayoutsWithNavbar />}>\r\n            <Route path=\"/\" element={<Home/>}/>\r\n            <Route path=\"/following\" element={<Home/>}/>\r\n            <Route path=\"/messages\" element={<Home/>}/>\r\n            <Route path=\"/profile\" element={<Profile id={0} />}/>\r\n            <Route path=\"/post/:id\" element={<PostPage />}/>\r\n          </Route>\r\n          \r\n          {/* Put pages without navbar here */}\r\n          <Route path=\"/login\" element={<Login/>}/>\r\n          <Route path=\"/signup\" element={<SignUp/>}/>\r\n          <Route path=\"/profilesetup\" element={<ProfileSetup/>}/>\r\n        </Routes>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction LayoutsWithNavbar() {\r\n  return (\r\n    <>\r\n      <NavigationBar />\r\n      <Outlet /> \r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}